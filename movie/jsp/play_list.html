<!doctype html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Sample page</title>
	<link  rel="stylesheet"  href="../css/movie_tab.css">
 	<link rel="stylesheet"  href="../css/bass.css">
 	<link rel="stylesheet"  href="../css/layout.css">
	<link  rel="stylesheet" href="../css/global.css">
	<link  rel="stylesheet"  href="../css/style_movie.css">
	<link  rel="stylesheet"  href="../css/style_movie_pay.css">
	<script type="text/javascript" src="../js/jquery.js"></script>
	<script type="text/javascript" src="../js/movieTab.js"></script>
	<script type="text/javascript" src="../js/jquery-ui.js"></script>
	<script type="text/javascript" src="../js/jquery.mousewheel.js"></script>
<script type="text/javascript">
	;(function($){
		/**
		  @required  : jquery.js,jquery-ui.js,jquery.mousewheel.js,*.css
 		 */		  
		$.fn.movieScroller = function(options){
			var _default = {
				speed:20//齿轮滚动速度		
			};			
			var _options = $.extend(_default,options||{});
			//初始化滚动条的长度
			var tr_h = $($("#data_table_body tr")[0]).height();
			var m_sroll_h = 5*tr_h+4;
			var trs = $("#data_table_body tr").length;
			if(trs<=5){
				$($(".scroller")[0]).hide();
				$("#data_table_body").width($(this).width());
			}else{
				$( "#data_table_body" ).width($(this).width()-15);
				$(".scroller").show();	
				$( ".handle" ).height(m_sroll_h*(5/trs));	
			}
			//初始化滚动条的拖拽
			$($( ".handle" )[0]).draggable({ axis: "y",containment: "parent",drag:resetPlayPos});
			//拖动事件，修改播放列表的层的显示位置
			function resetPlayPos(){
				var sroll_length = parseInt($($( ".handle" )[0]).offset().top)-parseInt($( $(".decrease")[0] ).offset().top);
				$("#data_table_body").offset({top:parseInt($($( ".scroll" )[0]).offset().top)-sroll_length});
				
			}
			//滚动的最高点
			var min_top = parseInt($($( ".decrease" )[0]).offset().top)+$($( ".decrease" )[0]).height();
			//滚动的最低点
			var max_top = parseInt($($( ".increase" )[0]).offset().top)-$($( ".handle" )[0]).height();
			$("#data_table_body").mousewheel(function(event, delta, deltaX, deltaY){
				var tem_top ;
				if( delta>0 ){
					tem_top = Math.max((parseInt($($( ".handle" )[0]).offset().top)-_options.speed),min_top);
				}else{
					tem_top = Math.min(parseInt($($( ".handle" )[0]).offset().top)+_options.speed,max_top);	
				}
				$(".handle").offset({top:tem_top});	
				resetPlayPos();	
				return false;			
			});		
		}				
	})(jQuery);	
	</script>
	
	<script type="text/javascript">
		$(document).ready(function(){
				var tab_operObj = $(".playList_tab_item");
					$("#playDate_tab").movieTab({syn:true,callBack:tabCallBack,operClass:tab_operObj});
					function tabCallBack(){
						//dealPlayDateEvent();		
					}

			//异步加载放映信息			
			function initPageInfo(){
				initPlayDateData();//加载放映时间信息
			}
				
			//加载放映日期信息	
			function initPlayDateData(){
				var url = "";
				var data = "";
				$.post({
					url:url,
					data:data,
					success:playDate,
					error:function(){
						alert("对不起,请求失败!");
					}		
				});
				//生成放映日期页面内容
				function playDate(data){
					var playDateDiv = $("#playDate_tab");
					var dateCon = "";
					var tab_operObj = $(".playList_tab_item");
					$("#playDate_tab").movieTab({syn:true,callBack:tabCallBack,operClass:tab_operObj});
					function tabCallBack(){
						dealPlayDateEvent();		
					}
				}	
			}
			//为生成的放映日期选项添加事件处理函数
			function dealPlayDateEvent(){
				var curDate = $(this).attr("id");
				
				
			}
			//加载影院所在地区信息
			function initCinemaArea(curDate){
				var data = curDate;
				var url = "";
				$.post({
					url:url,
					data:data,
					success:playArea,
					error:function(){
						alert("对不起,请求失败!");
					}				
				});
				//生成放映影院所在地区内容
				function playArea(data){
					//生成的内容中需要给每个地区添加选中事件
				}
			}
			//地区点击事件处理函数
			function dealAreaEvent(){
				//处理函数中需要生成影院列表（con_innerBox）	
			}
			//生成影院列表
			function initPlayCinema(playArea){
				var data = playArea;
				var rul = "";
				$.post({
					url:url,
					data:data,
					success:playArea,
					error:function(){
						alert("对不起,请求失败!");
					}				
					});
				function playCinema(){
					//生成的内容中需要给每个影院添加选中事件
				}
			}
			//处理影院选中事件
			function dealCinemaEvent(){
				//加载放映列表数据
				playDataTable();
			}
			//生成放映列表表格
			function playDataTable(data){
				//重置滑动条，$("#play_list_info").movieScroller();	
			}
			$("#play_list_info").movieScroller();//设置滑动条			
		});
		
	</script>	
</head>
<div id="page"  class="w950">

        <div id="header" class="w950">
            <img src="../images/common/Process_two.png" width="950" height="59" alt="流程">
    
        </div>
    <div id="content"  class="mt10">

        <!-- 通栏：.grid-m -->
    	
        <div class="layout grid-m0s5">
             <div class="col-main">
				  <div class="main-wrap">
				      <div class="top_img_back E0_bl E0_bt pt20 pl10 pb10">					
								<div class="play_tab_select movie_tab" id="playDate_tab">
									<span id="2012-12-18" >12月18日&nbsp;今天</span>
									<span id="2012-12-18">12月19日&nbsp;周三</span>
									<span id="2012-12-18">12月20日&nbsp;周四</span>
									<span id="2012-12-18">12月21日&nbsp;周五</span>
									<a href="#" >更多日期>></a>
								</div>
								<dl class="play_tab_con green_back pb20 pt10 pr20 clearfix">
									<dt>选择区域:</dt>
									<dd>
										<div class="clearfix">
											<a class="select" href="javascript:;">热门影院</a>
											<a id="" href="javascript:;">杨浦</a>
											<a href="javascript:;">杨浦</a>
											<a href="javascript:;">杨浦</a>
											<a href="javascript:;">杨浦</a>
											<a href="javascript:;">杨浦</a>
											<a href="javascript:;">杨浦</a>
											<a href="javascript:;">杨浦</a>
											<a href="javascript:;">杨浦</a>
											<a href="javascript:;">杨浦</a>
											<a href="javascript:;">杨浦</a>
											<a href="javascript:;">杨浦</a>
											<a href="javascript:;">杨浦</a>
											<a href="javascript:;">杨浦</a>
											<a href="javascript:;">杨浦</a>
											<a href="javascript:;">杨浦</a>
											<a href="javascript:;">杨浦</a>
											<a href="javascript:;">杨浦</a>
											<a href="javascript:;">杨浦</a>
											<a href="javascript:;">杨浦</a>
										</div>
										<div class="clearfix con_innerBox">
<a id="63364" class="310110 select" config="cinema" rel="310110" href="javascript:void(0)">五角场万达电影城</a>
<a id="15" class="310106 " config="cinema" rel="310106" href="javascript:void(0)">环艺电影城</a>
<a id="1" class="310101 " config="cinema" rel="310101" href="javascript:void(0)">大光明电影院</a>
<a id="1277473" class="310109 " config="cinema" rel="310109" href="javascript:void(0)">虹口星美国际影城</a>
											
										</div>
									</dd>
								</dl>		
								<div id="play_data">
									<div class="play_data_header">test</div>
									<div class="play_data_table mt20 mb20 b_border">	
										<div class="data_table_header  b_border_b">
											<span class="w86">放映时间</span>	
											<span class="w110">语言版本</span>	
											<span class="w110">放映厅</span>	
											<span class="w110">现价(元)</span>	
											<span class="w130">说明</span>	
										</div>
										<div class="data_table_body" id="play_list_info">
											<table  id="data_table_body" class="scroll_content" >
												<tr>
											<td class="w86" >111111<td>
											<td class="w110">111111<td>
											<td class="w110">111111<td>
											<td class="w110">111111<td>
											<td class="w130">111111<td>
											<td>22222<td>
										</tr>
										<tr class="odd">
											<td class="w86" >111111<td>
											<td class="w110">111111<td>
											<td class="w110">111111<td>
											<td class="w110">111111<td>
											<td class="w130">111111<td>
											<td>22222<td>
										</tr>
										<tr>
											<td class="w86" >111111<td>
											<td class="w110">111111<td>
											<td class="w110">111111<td>
											<td class="w110">111111<td>
											<td class="w130">111111<td>
											<td>22222<td>
										</tr>
										<tr class="odd">
											<td class="w86" >111111<td>
											<td class="w110">111111<td>
											<td class="w110">111111<td>
											<td class="w110">111111<td>
											<td class="w130">111111<td>
											<td>22222<td>
										</tr>
										<tr>
										<td class="w86" >111111<td>
											<td class="w110">111111<td>
											<td class="w110">111111<td>
											<td class="w110">111111<td>
											<td class="w130">111111<td>
											<td>22222<td>
										</tr>
										<tr>
											<td class="w86" >111111<td>
											<td class="w110">111111<td>
											<td class="w110">111111<td>
											<td class="w110">111111<td>
											<td class="w130">111111<td>
											<td>22222<td>
										</tr>
										<tr class="odd">
											<td class="w86" >111111<td>
											<td class="w110">111111<td>
											<td class="w110">111111<td>
											<td class="w110">111111<td>
											<td class="w130">111111<td>
											<td>22222<td>
										</tr>
										<tr>
											<td class="w86" >111111<td>
											<td class="w110">111111<td>
											<td class="w110">111111<td>
											<td class="w110">111111<td>
											<td class="w130">111111<td>
											<td>22222<td>
										</tr>
										<tr class="odd">
											<td class="w86" >111111<td>
											<td class="w110">111111<td>
											<td class="w110">111111<td>
											<td class="w110">111111<td>
											<td class="w130">111111<td>
											<td>22222<td>
										</tr>
										<tr>
										<td class="w86" >111111<td>
											<td class="w110">111111<td>
											<td class="w110">111111<td>
											<td class="w110">111111<td>
											<td class="w130">111111<td>
											<td>22222<td>
										</tr>
				            
									</table>
									<div class="scroller vertical" id="listTableScroll">
										<span class="decrease"></span>
										<div class="scroll">
											<div class="handle">
												<div class="handleL">
													<div class="handleR">
														<div class="handleC"></div>
													</div>	
												</div>
											</div>
										</div>
										<span class="increase"></span>
									</div>
								</div>
				
								<div class="listBotoom b_border_t"></div>
							</div>	
						</div>	
					</div>
				</div>
				<!--end main-wrap-->
			</div>

                    <div class="col-sub">
                        <div id="" class="hotActivity">
                            <div id="" class="hd_ht">
                                <h3>热门活动</h3>
                            </div>
                            <div id="" class="hot_bd">
                                <div class="hotlist">
                                    <div class="hotlist_hd">
                                        <a href="#">
                                            <img src="../images/temp/re1.jpg" width="70" height="100">   
                                        </a>
                                    </div>
                                    <div class="hotlist_bd">
                                        <h3><a href="#">末日狂欢低价观影</a></h3>
                                        <p><span class="c_gray9">时间:</span>12月12日</p>
                                        <p><span class="c_orange">192</span>人已参加</p>
                                        <p class="anchor"><span><a href="">参&nbsp;加  </a></span></p>
                                    </div>
                                </div><!-- / -->
                                
                            </div><!-- / -->

                    </div>
        </div>   
             <!-- 通栏：.grid-m  end -->  
    </div>

  	</div>
    <div id="footer" class="w950 "><img src="../images/other/index_4.jpg" width="950" height="103">

    </div>
</div>

</body>
</html>
		
